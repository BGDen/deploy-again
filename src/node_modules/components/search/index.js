import React from 'react'
import { connect } from 'react-redux'

import List from '@material-ui/core/List'
import ListItem from '@material-ui/core/ListItem'
import IconButton from '@material-ui/core/IconButton'
import SearchIcon from '@material-ui/icons/Search'
import Typography from '@material-ui/core/Typography'
import { deepOrange } from '@material-ui/core/colors'

import { searchPhone } from 'actions'
import { ColorTextFields } from 'component/AppSearch'

class Search extends React.Component{
  constructor(props){
    super(props)
    this.state = {
      value: ''
    }

    this.handleSubmit = this.handleSubmit.bind(this)
    this.handleChange = this.handleChange.bind(this)

  }

  handleChange(event){
    this.setState({
      value: event.target.value
    })
  }

  handleSubmit(event){
    event.preventDefault()
    this.props.searchPhone(this.state.value)
  }

  render(){
    return (
      <List component="nav" aria-labelledby="quick-shop" >
        <Typography component="h2" style={{fontWeight: "bold", fontSize: 20, color: deepOrange[900]}}>
          Quick shop
        </Typography>

        <ListItem>
          <form noValidate autoComplete="off" onSubmit={this.handleSubmit}>

            <ColorTextFields handleChange={this.handleChange} />

          </form>

          <IconButton 
            onClick={this.handleSubmit}
            style={{position: 'relative', top: 10}}
          >
            <SearchIcon />
          </IconButton>
        </ListItem>
      </List>
    )
  }
}

const mapDispatchToProps = {
  searchPhone
}

export default connect(null, mapDispatchToProps)(Search)